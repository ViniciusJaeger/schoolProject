package com.alpdex.dao;

import java.util.List;

import javax.persistence.EntityManager;

import com.alpdex.entity.Graduation;
import com.alpdex.entity.Teacher;

public class TeacherDao {

	private EntityManager em;

	public TeacherDao(EntityManager em) {
		this.em = em;
	}
	
	public void insert(Teacher teacher) {
		this.em.persist(teacher);
	}
	
	public void update(Teacher teacher) {
		this.em.merge(teacher);
	}
	
	public void remove(Teacher teacher) {
		teacher = em.merge(teacher);
		this.em.remove(teacher);
	}
	
	public Teacher findById(Long id) {
		return em.find(Teacher.class, id);
	}
	
	public List<Teacher> findAll() {
		String sql = "SELECT t FROM Teacher t";
		return em.createQuery(sql, Teacher.class).getResultList();
	}
	
	public List<Teacher> findByName(String name){
		String sql = "SELECT t FROM Teacher t WHERE t.name = :name";
		return em.createQuery(sql, Teacher.class).setParameter("name", name).getResultList();
	}
	
	public List<Teacher> findByGraduation(Graduation graduation){
		String sql = "";
		return em.createQuery(sql, Teacher.class).setParameter("graduation", sql).getResultList();
	}
}

	
